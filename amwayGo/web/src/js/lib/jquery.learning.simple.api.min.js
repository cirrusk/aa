var _fileinfo_={version:"3.2.1"};var API_ERROR={NO_ERROR:{code:0,string:I18N["Aos:Learing:NoError"]},INITIALIZE_FAILURE:{code:100,string:I18N["Aos:Learing:InitializeFailure"]},INITIALIZE_AFTER_INITIALIZE:{code:101,string:I18N["Aos:Learing:InitializeAfterInitialize"]},INITIALIZE_AFTER_TERMINATE:{code:102,string:I18N["Aos:Learing:InitializeAfterTerminate"]},INITIALIZE_ARGUMENT:{code:103,string:I18N["Aos:Learing:InitializeArgument"]},TERMINATE_FAILURE:{code:200,string:I18N["Aos:Learing:TerminateFailure"]},TERMINATE_BEFORE_INITIALIZE:{code:201,string:I18N["Aos:Learing:TerminateBeforeInitialize"]},TERMINATE_AFTER_TERMINATE:{code:202,string:I18N["Aos:Learing:TerminateAfterTerminate"]},TERMINATE_ARGUMENT:{code:203,string:I18N["Aos:Learing:TerminateArgument"]},COMMIT_FAILURE:{code:300,string:I18N["Aos:Learing:CommitFailure"]},COMMIT_BEFORE_INITIALIZE:{code:301,string:I18N["Aos:Learing:CommitBeforeInitialize"]},COMMIT_AFTER_TERMINATE:{code:302,string:I18N["Aos:Learing:CommitAfterTerminate"]},COMMIT_ARGUMENT:{code:303,string:I18N["Aos:Learing:CommitArgument"]},GETVALUE_FAILURE:{code:400,string:I18N["Aos:Learing:GetvalueFailure"]},GETVALUE_BEFORE_INITIALIZE:{code:401,string:I18N["Aos:Learing:GetvalueBeforeInitialize"]},GETVALUE_AFTER_TERMINATE:{code:402,string:I18N["Aos:Learing:GetvalueAfterTerminate"]},GETVALUE_ARGUMENT:{code:403,string:I18N["Aos:Learing:GetvalueArgument"]},SETVALUE_FAILURE:{code:500,string:I18N["Aos:Learing:SetvalueFailure"]},SETVALUE_BEFORE_INITIALIZE:{code:501,string:I18N["Aos:Learing:SetvalueBeforeInitialize"]},SETVALUE_AFTER_TERMINATE:{code:502,string:I18N["Aos:Learing:SetvalueAfterTerminate"]},SETVALUE_ARGUMENT:{code:503,string:I18N["Aos:Learing:SetvalueArgument"]}};
var API={status:"",debug:{on:false,callback:null},url:{initialize:"/learning/api/simple/initialize.do",terminate:"/learning/api/simple/terminate.do",commit:"/learning/api/simple/commit.do",restore:"/learning/api/simple/restore.do",othersData:"/learning/api/simple/get/others/data.do"},timer:null,timerInterval:1000*60*3,dataModel:null,learningData:{organizationSeq:"",itemSeq:"",courseId:"",applyId:"",startTime:"",contentTypeCd:"",accessToken:""},exception:{callback:function(){if(API.debug.on==false){self.close();
}}},error:API_ERROR.NO_ERROR,Initialize:function(d){if(API.status==="exception"){return"false";}if(API.status==="terminated"){API.setError(API_ERROR.INITIALIZE_AFTER_TERMINATE,"[Initialize]");return"false";
}if(API.status==="initialized"){API.setError(API_ERROR.INITIALIZE_AFTER_INITIALIZE,"[Initialize]");return"false";}if(typeof d!=="undefined"&&d!=""){API.setError(API_ERROR.INITIALIZE_ARGUMENT,"[Initialize]");
return"false";}var b={url:API.url.initialize,data:API.getJsonParameters("",API.learningData)};var a=API.ajax(b);if("true"==a.result){API.status="initialized";API.dataModel=a.dataModel;var c=API.getJsonParameters("",API.dataModel)+"&"+API.getJsonParameters("",API.learningData);
API.setError(API_ERROR.NO_ERROR,"[Initialize]",c.split("&").join("\n"));API.timer=setInterval("API.Commit('')",API.timerInterval);return"true";}else{API.status="";API.dataModel=null;API.setError(API_ERROR.INITIALIZE_FAILURE,"[Initialize]");
API.quitAlert();return"false";}},Terminate:function(c){if(API.url.terminate==""){return"true";}if(API.status==="exception"){return"false";}if(API.status==="terminated"){API.setError(API_ERROR.TERMINATE_AFTER_TERMINATE,"[Terminate]");
return"false";}if(API.status!=="initialized"){API.setError(API_ERROR.TERMINATE_BEFORE_INITIALIZE,"[Terminate]");return"false";}if(typeof c!=="undefined"&&c!=""){API.setError(API_ERROR.TERMINATE_ARGUMENT,"[Terminate]");
return"false";}API.SetValue("cmi.exit","exit");var b={url:API.url.terminate,data:API.getJsonParameters("",API.dataModel)+"&"+API.getJsonParameters("",API.learningData)};var a=API.ajax(b);if("true"==a.result){API.status="terminated";
API.dataModel=null;API.setError(API_ERROR.NO_ERROR,"[Terminate]",b.data.split("&").join("\n"));clearInterval(API.timer);return"true";}else{API.setError(API_ERROR.TERMINATE_FAILURE,"[Terminate]",b.data.split("&").join("\n"));
API.quitAlert();return"false";}},Commit:function(c){if(API.url.commit==""){return"true";}if(API.status==="exception"){return"false";}if(API.status==="terminated"){API.setError(API_ERROR.COMMIT_AFTER_TERMINATE,"[Commit]");
return"false";}if(API.status!=="initialized"){API.setError(API_ERROR.COMMIT_BEFORE_INITIALIZE,"[Commit]");return"false";}if(typeof c!=="undefined"&&c!=""){API.setError(API_ERROR.COMMIT_ARGUMENT,"[Commit]");
return"false";}var b={url:API.url.commit,data:API.getJsonParameters("",API.dataModel)+"&"+API.getJsonParameters("",API.learningData)};var a=API.ajax(b);if("true"==a.result){API.delCookie();API.setError(API_ERROR.NO_ERROR,"[Commit]",b.data.split("&").join("\n"));
return"true";}else{API.setError(API_ERROR.COMMIT_FAILURE,"[Commit]",b.data.split("&").join("\n"));API.quitAlert();return"false";}},GetValue:function(b){if(API.status==="terminated"){API.setError(API_ERROR.GETVALUE_AFTER_TERMINATE,"[GetValue]");
return"false";}if(API.status!=="initialized"){API.setError(API_ERROR.GETVALUE_BEFORE_INITIALIZE,"[GetValue]");return"false";}if(typeof b==="undefined"||b==""){API.setError(API_ERROR.GETVALUE_ARGUMENT,"[GetValue]");
return"false";}var a="unknown";try{a=API.getDataModel(b);API.setError(API_ERROR.NO_ERROR,"[GetValue]",b+"="+a);}catch(c){API.setError(API_ERROR.GETVALUE_FAILURE,"[GetValue]",b+"="+a);}return a;},SetValue:function(a,b){if(API.status==="terminated"){API.setError(API_ERROR.SETVALUE_AFTER_TERMINATE,"[SetValue]");
return"false";}if(API.status!=="initialized"){API.setError(API_ERROR.SETVALUE_BEFORE_INITIALIZE,"[SetValue]");return"false";}if(typeof a==="undefined"||a==""||typeof b==="undefined"){API.setError(API_ERROR.SETVALUE_ARGUMENT,"[SetValue]");
return"false";}try{API.setDataModel(a,b);API.setError(API_ERROR.NO_ERROR,"[SetValue]",a+"="+b);return"true";}catch(c){API.setError(API_ERROR.SETVALUE_FAILURE,"[SetValue]",a+"="+b);return"false";}},getOthersData:function(a){if(API.url.commit==""){return"true";
}if(API.status==="terminated"){API.setError(API_ERROR.GETVALUE_AFTER_TERMINATE,"[GetOthersData]");return"false";}if(API.status!=="initialized"){API.setError(API_ERROR.GETVALUE_BEFORE_INITIALIZE,"[GetOthersData]");
return"false";}if(typeof a==="undefined"||a==""){API.setError(API_ERROR.GETVALUE_ARGUMENT,"[GetOthersData]");return"false";}var c={url:API.url.othersData,data:API.getJsonParameters("",API.dataModel)+"&"+API.getJsonParameters("",API.learningData)+"&dataName="+a};
var b=API.ajax(c);if("true"==b.result){API.setError(API_ERROR.NO_ERROR,"[GetOthersData]",c.data.split("&").join("\n"));return b.data;}else{API.setError(API_ERROR.GETVALUE_FAILURE,"[GetOthersData]",c.data.split("&").join("\n"));
return null;}},GetLastError:function(){API.doDebug("[GetLastError] "+API.error.code);return API.error.code;},GetErrorString:function(a){API.doDebug("[GetErrorString] "+API.error.string);return API.error.string;
},GetDiagnostic:function(a){API.doDebug("[GetDiagnostic] "+API.error.string);return API.error.string;},restore:function(){if(API.url.restore==""){return"true";}var b={url:API.url.restore,data:API.getCookie()};
if(b.data.length>0){var a=API.ajax(b);if("true"==a.result){if("1"==a.restore){jQuery.alert({message:I18N["Aos:Learing:RestoreLearningData"]});API.delCookie();}}else{API.delCookie();}}},setError:function(a,c,b){API.error=a;
if(API.debug.on&&typeof API.debug.callback==="function"){API.debug.callback.call(this,{state:c,success:API.error==API_ERROR.NO_ERROR,message:c+" ["+API.error.code+"] - "+API.error.string+(typeof b==="string"?b:"")});
}},doDebug:function(a){if(API.debug.on&&typeof API.debug.callback==="function"){API.debug.callback.call(this,{message:a});}},setDataModel:function(a,b){if(API.dataModel==null){API.dataModel={};}API.dataModel[a]=b;
},getDataModel:function(a){if(API.dataModel==null){API.dataModel={};}if(typeof API.dataModel[a]==="undefined"){return"";}else{return API.dataModel[a];}},getJsonParameters:function(e,b){var a=[];for(var d in b){switch(typeof b[d]){case"object":var c=API.getJsonParameters(e+d+".",b[d]);
if(c.length>0){a.push(c);}break;case"string":case"number":case"boolean":a.push(e+d+"="+b[d]);break;}}return a.join("&");},ajax:function(b){var a={};jQuery.ajax({url:b.url,data:b.data,type:"post",dataType:"json",cache:false,async:false,contentType:"application/x-www-form-urlencoded",error:function(e,c,d){if(API.debug.on){API.doDebug("request ["+e.statusText+"] : "+d);
}API.setCookie();a.result=false;},success:function(d,e,c){a=d;}});return a;},quitAlert:function(){API.status="exception";jQuery("iframe").hide();jQuery.alert({message:API.error.string,button1:{callback:function(){if(typeof API.exception.callback==="function"){}}}});
},isInitialized:function(){return API.status=="initialized"?true:false;},getCookie:function(){var c=document.cookie.split(";");for(var b=0;b<c.length;b++){var a=c[b].split("=");if(a.length==2){a[0]=a[0].trim();
a[1]=a[1].trim();if(a[0]=="learningData"){return unescape(a[1]);}}}return"";},setCookie:function(){var c=API.getJsonParameters("",API.dataModel)+"&"+API.getJsonParameters("",API.learningData);var a=new Date((new Date()).getTime()+24*60*60*1000);
var b=("learningData="+escape(c));b+=("; path=/; expires="+a.toGMTString());document.cookie=b;API.doDebug("[setCookie] "+b);},delCookie:function(){var a="learningData=; path=/; expires=;";document.cookie=a;
API.doDebug("[delCookie] "+a);},LMSInitialize:function(a){if(API.status==="initialized"){return"true";}else{return API.Initialize(a);}},LMSFinish:function(a){if(API.status==="terminated"){return"true";
}else{return API.Terminate(a);}},LMSGetValue:function(a){return API.GetValue(a);},LMSSetValue:function(b,a){return API.SetValue(b,a);},LMSCommit:function(a){return API.Commit(a);},LMSGetLastError:function(){return API.GetLastError();
},LMSGetErrorString:function(a){return API.GetErrorString(a);},LMSGetDiagnostic:function(a){return API.GetDiagnostic(a);}};